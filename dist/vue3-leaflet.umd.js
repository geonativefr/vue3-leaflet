(function(y,u){typeof exports=="object"&&typeof module!="undefined"?u(exports,require("vue"),require("leaflet"),require("@vueuse/core"),require("leaflet.gridlayer.googlemutant/dist/Leaflet.GoogleMutant.js"),require("leaflet.smooth_marker_bouncing"),require("leaflet-pegman")):typeof define=="function"&&define.amd?define(["exports","vue","leaflet","@vueuse/core","leaflet.gridlayer.googlemutant/dist/Leaflet.GoogleMutant.js","leaflet.smooth_marker_bouncing","leaflet-pegman"],u):(y=typeof globalThis!="undefined"?globalThis:y||self,u(y["vue3-leaflet"]={},y.Vue,y.L,y.core))})(this,function(y,u,v,g){"use strict";var Ut=Object.defineProperty,Gt=Object.defineProperties;var Et=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var tt=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable;var Q=(y,u,v)=>u in y?Ut(y,u,{enumerable:!0,configurable:!0,writable:!0,value:v}):y[u]=v,x=(y,u)=>{for(var v in u||(u={}))tt.call(u,v)&&Q(y,v,u[v]);if(F)for(var v of F(u))et.call(u,v)&&Q(y,v,u[v]);return y},it=(y,u)=>Gt(y,Et(u));var nt=(y,u)=>{var v={};for(var g in y)tt.call(y,g)&&u.indexOf(g)<0&&(v[g]=y[g]);if(y!=null&&F)for(var g of F(y))u.indexOf(g)<0&&et.call(y,g)&&(v[g]=y[g]);return v};function ot(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var P=ot(v);const st={__name:"MapContainer",props:{center:{type:[v.LatLng,Array,Object],default:()=>new v.LatLng(0,0)},zoom:{type:Number,default:13},zoomControl:{type:Boolean,default:!0},scrollWheelZoom:{type:Boolean,default:!0},bounds:{type:Array,default:void 0}},emits:["ready","move","zoomend"],setup(s,{emit:o}){const t=s,{center:i,zoom:n,zoomControl:r,bounds:c,scrollWheelZoom:h}=u.toRefs(t),f=u.reactive({scrollWheelZoom:h}),e=g.templateRef("container"),a=u.ref();function l(d,p){p.length>0&&d.fitBounds(p)}return u.onMounted(()=>{const d=new v.Map(g.get(e),f);u.provide("map",d),u.watch(i,p=>d.setView(p,t.zoom),{immediate:!0}),u.watch(n,p=>d.setView(t.center,p),{immediate:!0}),u.watch(r,p=>p?d.zoomControl.addTo(d):d.zoomControl.remove(),{immediate:!0}),g.whenever(c,p=>l(d,p),{immediate:!0}),g.set(a,d),d.on("move",p=>o("move",{event:p,center:d.getCenter()})),d.on("zoomend",()=>o("zoomend",d.getZoom())),o("ready",d)}),(d,p)=>(u.openBlock(),u.createElementBlock("div",{ref_key:"container",ref:e},[a.value?u.renderSlot(d.$slots,"default",{key:0,map:a.value}):u.createCommentVNode("",!0)],512))}},rt={__name:"OpenStreetMap",props:{url:{type:String,default:"https://tile.openstreetmap.org/{z}/{x}/{y}.png"},attribution:{type:String,default:'&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a> contributors'},type:{type:String,default:"roadmap",validator:s=>["roadmap"].includes(s)}},setup(s){const o=s,t=u.ref(u.inject("map")),i=P.default.tileLayer(o.url,{attribution:o.attribution});return u.provide("layer",i),g.whenever(t,n=>n.addLayer(i),{immediate:!0}),(n,r)=>u.renderSlot(n.$slots,"default")}},at={__name:"Mapbox",props:{url:{type:String,default:"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token={apiKey}"},apiKey:{type:String,required:!0},attribution:{type:String,default:'&copy <a href="https://www.mapbox.com/about/maps/">Mapbox</a>&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a> - <a href="https://www.mapbox.com/map-feedback/">Improve this map</a>'},tileSize:{type:Number,default:512},zoomOffset:{type:Number,default:-1},type:{type:String,default:"roadmap",validator:s=>["roadmap"].includes(s)}},setup(s){const o=s,t=u.ref(u.inject("map")),i=u.reactive({apiKey:o.apiKey,attribution:o.attribution,tileSize:o.tileSize,zoomOffset:o.zoomOffset}),n=P.default.tileLayer(o.url,i);return u.provide("layer",n),g.whenever(t,r=>r.addLayer(n),{immediate:!0}),(r,c)=>u.renderSlot(r.$slots,"default")}};function A(s){return Object.assign(s,{render:()=>{}})}function H(s){return typeof s=="object"&&s!==null}function U(s){return H(s)&&Object.keys(s).forEach(o=>{if(H(s[o])){s[o]=U(s[o]);return}typeof s[o]=="undefined"&&(Array.isArray(s)?s.splice(o,1):delete s[o])}),s}async function $(s){var o;return window.gmapsApi=(o=window.gmapsApi)!=null?o:new Promise((t,i)=>{const n=document.createElement("script");n.type="text/javascript",n.src="https://maps.googleapis.com/maps/api/js?key="+s,n.async=!0,n.addEventListener("error",r=>i(r)),n.addEventListener("abort",r=>i(r)),n.addEventListener("load",()=>{window.L=P.default,t(!0)}),document.head.appendChild(n)}),window.gmapsApi}const lt={__name:"GoogleMaps",props:{url:{type:String,default:"https://mt0.google.com/vt/lyrs=m&x={x}&y={y}&z={z}"},apiKey:{type:String,required:!0},type:{type:String,default:"roadmap",validator:s=>["roadmap","satellite","terrain","hybrid"].includes(s)}},setup(s){const o=s,{type:t}=u.toRefs(o),i=u.reactive({type:t}),n=l=>{const d=(m,w)=>P.default.gridLayer.googleMutant(w).addTo(m);return{load:async(m,w=i)=>{await $(l),d(m,w)}}},r=u.ref(u.inject("map")),c=u.reactive({apiKey:o.apiKey,attribution:o.attribution,tileSize:o.tileSize,zoomOffset:o.zoomOffset}),h=P.default.tileLayer(o.url,c),f=n(o.apiKey),e=u.ref();g.whenever(e,(l,d)=>d==null?void 0:d.remove()),u.watch(t,()=>a(u.unref(r)));async function a(l){g.set(e,await f.load(l,i))}return u.provide("layer",h),g.whenever(r,l=>a(l),{immediate:!0}),(l,d)=>u.renderSlot(l.$slots,"default")}},ct={__name:"Marker",props:{position:{type:[v.LatLng,Array,Object],required:!0},icon:{type:[String,Object,v.Icon],default:void 0},title:{type:String,default:void 0},alt:{type:String,default:void 0},opacity:{type:Number,default:void 0},tooltip:{type:String,default:void 0},bounce:{type:[Boolean,Number],default:!1},bounceHeight:{type:Number,default:void 0},contractHeight:{type:Number,default:void 0},bounceSpeed:{type:Number,default:void 0},contractSpeed:{type:Number,default:void 0},shadowAngle:{type:Number,default:void 0},elastic:{type:Boolean,default:void 0},exclusive:{type:Boolean,default:void 0}},emits:["click","bounceend"],setup(s,{emit:o}){const t=s;v.Marker.prototype._animateZoom=function(b){if(!this._map)return;const E=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center).round();this._setPos(E)};const{position:i,title:n,alt:r,opacity:c,bounce:h,bounceHeight:f,contractHeight:e,bounceSpeed:a,contractSpeed:l,shadowAngle:d,elastic:p,exclusive:m}=u.toRefs(t),w=u.reactive({title:n,alt:r,opacity:c}),S=u.computed(()=>{if(t.icon instanceof v.Icon)return t.icon;if(t.icon instanceof Object)return P.default.icon(t.icon);if(typeof t.icon=="string"){const b={iconSize:[50,50],iconAnchor:[22,50],popupAnchor:[0,-50]};return P.default.icon(x({iconUrl:t.icon},b))}}),O=u.reactive({bounceHeight:f,contractHeight:e,bounceSpeed:a,contractSpeed:l,shadowAngle:d,elastic:p,exclusive:m}),C=u.ref(u.inject("map")),k=P.default.marker(t.position,U(w));u.provide("layer",k),k.on("click",()=>o("click",k)),k.on("bounceend",()=>o("bounceend"));function Z(b,E){if(typeof E=="boolean"){E?b.bounce():b.stopBouncing();return}b.bounce(E)}function R(b){P.default.setOptions(b,U(w)),b._removeIcon(),b._initIcon(),b.update()}return g.whenever(C,b=>b.addLayer(k),{immediate:!0}),g.whenever(i,b=>k.setLatLng(b)),g.whenever(S,b=>k.setIcon(b),{deep:!0,immediate:!0}),g.whenever(w,()=>R(k),{deep:!0,immediate:!0}),g.whenever(O,b=>k.setBouncingOptions(U(b)),{deep:!0,immediate:!0}),u.watch(h,b=>Z(k,b),{immediate:!0}),u.onUnmounted(()=>k.remove()),(b,E)=>u.renderSlot(b.$slots,"default",{marker:u.unref(k)})}},ht={style:{opacity:"0"}},dt={ref:"popup-content",id:"popup-container"},ut={__name:"Popup",props:{position:{type:v.LatLng,default:void 0}},setup(s){const o=s;v.Popup.prototype._animateZoom=function(a){if(!this._map)return;const l=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),d=this._getAnchor();L.DomUtil.setPosition(this._container,l.add(d))},window.fixPopupCloseEvent||(document.addEventListener("click",a=>{let l=a.target;for(;l!=null;){if(l.matches('a[href="#close"]')){a.preventDefault();return}l=l.parentElement}}),window.fixPopupCloseEvent=!0);const{position:t}=u.toRefs(o),i=g.templateRef("popup-content"),n=new v.Popup,r=u.inject("layer"),c=g.useMounted(),h=u.ref(!1);u.provide("layer",n);function f(){g.get(h)!==!0&&(g.get(r).bindPopup(n),g.set(h,!0))}function e(a){if(g.get(c)===!1)return;const l=a.firstElementChild instanceof Element;a.innerHTML.trim().length>0&&(n.setContent(l?a.firstElementChild:a),f())}return g.whenever(t,a=>n.setLatLng(a),{immediate:!0}),u.watch(i,e,{immediate:!0}),(a,l)=>(u.openBlock(),u.createElementBlock("div",ht,[u.createElementVNode("div",dt,[u.renderSlot(a.$slots,"default")],512)]))}};var V={color:{type:String},weight:{type:Number},opacity:{type:Number},fillColor:{type:String}},ft=A({props:x({center:{type:[v.LatLng,Array,Object],required:!0},radius:{type:Number,required:!0}},V),setup(s){const{center:o,radius:t,color:i,weight:n,opacity:r,fillColor:c}=u.toRefs(s),h=u.computed(()=>s.color!=null),f=u.computed(()=>s.fillColor!=null),e=u.reactive({radius:t,stroke:h,color:i,weight:n,opacity:r,fill:f,fillColor:c}),a=u.ref(u.inject("map")),l=P.default.circle(s.center,U(e));u.provide("layer",l),g.whenever(a,d=>d.addLayer(l),{immediate:!0}),g.whenever(e,d=>P.default.setOptions(l,U(d),{deep:!0,immediate:!0})),g.whenever(o,d=>l.setLatLng(d)),u.onUnmounted(()=>l.remove())}}),pt={exports:{}};(function(s){(function(o){var t;t=P.default,s.exports=o(t)})(function(o){return o.Polyline._flat=o.LineUtil.isFlat||o.Polyline._flat||function(t){return!o.Util.isArray(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]!="undefined"},o.GeometryUtil=o.extend(o.GeometryUtil||{},{distance:function(t,i,n){return t.latLngToLayerPoint(i).distanceTo(t.latLngToLayerPoint(n))},distanceSegment:function(t,i,n,r){var c=t.latLngToLayerPoint(i),h=t.latLngToLayerPoint(n),f=t.latLngToLayerPoint(r);return o.LineUtil.pointToSegmentDistance(c,h,f)},readableDistance:function(t,i){var n=i!=="imperial",r;return n?t>1e3?r=(t/1e3).toFixed(2)+" km":r=t.toFixed(1)+" m":(t*=1.09361,t>1760?r=(t/1760).toFixed(2)+" miles":r=t.toFixed(1)+" yd"),r},belongsSegment:function(t,i,n,r){r=r===void 0?.2:r;var c=i.distanceTo(n),h=i.distanceTo(t)+t.distanceTo(n)-c;return h/c<r},length:function(t){var i=o.GeometryUtil.accumulatedLengths(t);return i.length>0?i[i.length-1]:0},accumulatedLengths:function(t){if(typeof t.getLatLngs=="function"&&(t=t.getLatLngs()),t.length===0)return[];for(var i=0,n=[0],r=0,c=t.length-1;r<c;r++)i+=t[r].distanceTo(t[r+1]),n.push(i);return n},closestOnSegment:function(t,i,n,r){var c=t.getMaxZoom();c===1/0&&(c=t.getZoom());var h=t.project(i,c),f=t.project(n,c),e=t.project(r,c),a=o.LineUtil.closestPointOnSegment(h,f,e);return t.unproject(a,c)},closest:function(t,i,n,r){var c,h=1/0,f=null,e,a,l,d;if(i instanceof Array)if(i[0]instanceof Array&&typeof i[0][0]!="number"){for(e=0;e<i.length;e++)d=o.GeometryUtil.closest(t,i[e],n,r),d&&d.distance<h&&(h=d.distance,f=d);return f}else if(i[0]instanceof o.LatLng||typeof i[0][0]=="number"||typeof i[0].lat=="number")i=o.polyline(i);else return f;if(!(i instanceof o.Polyline))return f;if(c=JSON.parse(JSON.stringify(i.getLatLngs().slice(0))),i instanceof o.Polygon){var p=function(O){if(o.Polyline._flat(O))O.push(O[0]);else for(var C=0;C<O.length;C++)p(O[C])};p(c)}if(o.Polyline._flat(c)){if(r){for(e=0,a=c.length;e<a;e++){var m=c[e];l=o.GeometryUtil.distance(t,n,m),l<h&&(h=l,f=m,f.distance=l)}return f}for(e=0,a=c.length;e<a-1;e++){var w=c[e],S=c[e+1];l=o.GeometryUtil.distanceSegment(t,n,w,S),l<=h&&(h=l,f=o.GeometryUtil.closestOnSegment(t,n,w,S),f.distance=l)}return f}else{for(e=0;e<c.length;e++)d=o.GeometryUtil.closest(t,c[e],n,r),d.distance<h&&(h=d.distance,f=d);return f}},closestLayer:function(t,i,n){for(var r=1/0,c=null,h=null,f=1/0,e=0,a=i.length;e<a;e++){var l=i[e];if(l instanceof o.LayerGroup){var d=o.GeometryUtil.closestLayer(t,l.getLayers(),n);d.distance<r&&(r=d.distance,c=d)}else typeof l.getLatLng=="function"?(h=l.getLatLng(),f=o.GeometryUtil.distance(t,n,h)):(h=o.GeometryUtil.closest(t,l,n),h&&(f=h.distance)),f<r&&(r=f,c={layer:l,latlng:h,distance:f})}return c},nClosestLayers:function(t,i,n,r){if(r=typeof r=="number"?r:i.length,r<1||i.length<1)return null;for(var c=[],h,f,e=0,a=i.length;e<a;e++){var l=i[e];if(l instanceof o.LayerGroup){var d=o.GeometryUtil.closestLayer(t,l.getLayers(),n);c.push(d)}else typeof l.getLatLng=="function"?(f=l.getLatLng(),h=o.GeometryUtil.distance(t,n,f)):(f=o.GeometryUtil.closest(t,l,n),f&&(h=f.distance)),c.push({layer:l,latlng:f,distance:h})}return c.sort(function(p,m){return p.distance-m.distance}),c.length>r?c.slice(0,r):c},layersWithin:function(t,i,n,r){r=typeof r=="number"?r:1/0;for(var c=[],h=null,f=0,e=0,a=i.length;e<a;e++){var l=i[e];typeof l.getLatLng=="function"?(h=l.getLatLng(),f=o.GeometryUtil.distance(t,n,h)):(h=o.GeometryUtil.closest(t,l,n),h&&(f=h.distance)),h&&f<r&&c.push({layer:l,latlng:h,distance:f})}var d=c.sort(function(p,m){return p.distance-m.distance});return d},closestLayerSnap:function(t,i,n,r,c){r=typeof r=="number"?r:1/0,c=typeof c=="boolean"?c:!0;var h=o.GeometryUtil.closestLayer(t,i,n);if(!h||h.distance>r)return null;if(c&&typeof h.layer.getLatLngs=="function"){var f=o.GeometryUtil.closest(t,h.layer,h.latlng,!0);f.distance<r&&(h.latlng=f,h.distance=o.GeometryUtil.distance(t,f,n))}return h},interpolateOnPointSegment:function(t,i,n){return o.point(t.x*(1-n)+n*i.x,t.y*(1-n)+n*i.y)},interpolateOnLine:function(t,i,n){i=i instanceof o.Polyline?i.getLatLngs():i;var r=i.length;if(r<2)return null;if(n=Math.max(Math.min(n,1),0),n===0)return{latLng:i[0]instanceof o.LatLng?i[0]:o.latLng(i[0]),predecessor:-1};if(n==1)return{latLng:i[i.length-1]instanceof o.LatLng?i[i.length-1]:o.latLng(i[i.length-1]),predecessor:i.length-2};var c=t.getMaxZoom();c===1/0&&(c=t.getZoom());for(var h=[],f=0,e=0;e<r;e++)h[e]=t.project(i[e],c),e>0&&(f+=h[e-1].distanceTo(h[e]));for(var a=f*n,l=0,d=0,e=0;d<a;e++){var p=h[e],m=h[e+1];l=d,d+=p.distanceTo(m)}if(p==null&&m==null)var p=h[0],m=h[1],e=1;var w=d-l!==0?(a-l)/(d-l):0,S=o.GeometryUtil.interpolateOnPointSegment(p,m,w);return{latLng:t.unproject(S,c),predecessor:e-1}},locateOnLine:function(t,i,n){var r=i.getLatLngs();if(n.equals(r[0]))return 0;if(n.equals(r[r.length-1]))return 1;for(var c=o.GeometryUtil.closest(t,i,n,!1),h=o.GeometryUtil.accumulatedLengths(r),f=h[h.length-1],e=0,a=!1,l=0,d=r.length-1;l<d;l++){var p=r[l],m=r[l+1];if(e=h[l],o.GeometryUtil.belongsSegment(c,p,m,.001)){e+=p.distanceTo(c),a=!0;break}}if(!a)throw"Could not interpolate "+n.toString()+" within "+i.toString();return e/f},reverse:function(t){return o.polyline(t.getLatLngs().slice(0).reverse())},extract:function(t,i,n,r){if(n>r)return o.GeometryUtil.extract(t,o.GeometryUtil.reverse(i),1-n,1-r);n=Math.max(Math.min(n,1),0),r=Math.max(Math.min(r,1),0);var c=i.getLatLngs(),h=o.GeometryUtil.interpolateOnLine(t,i,n),f=o.GeometryUtil.interpolateOnLine(t,i,r);if(n==r){var e=o.GeometryUtil.interpolateOnLine(t,i,r);return[e.latLng]}h.predecessor==-1&&(h.predecessor=0),f.predecessor==-1&&(f.predecessor=0);var a=c.slice(h.predecessor+1,f.predecessor+1);return a.unshift(h.latLng),a.push(f.latLng),a},isBefore:function(t,i){if(!i)return!1;var n=t.getLatLngs(),r=i.getLatLngs();return n[n.length-1].equals(r[0])},isAfter:function(t,i){if(!i)return!1;var n=t.getLatLngs(),r=i.getLatLngs();return n[0].equals(r[r.length-1])},startsAtExtremity:function(t,i){if(!i)return!1;var n=t.getLatLngs(),r=i.getLatLngs(),c=n[0];return c.equals(r[0])||c.equals(r[r.length-1])},computeAngle:function(t,i){return Math.atan2(i.y-t.y,i.x-t.x)*180/Math.PI},computeSlope:function(t,i){var n=(i.y-t.y)/(i.x-t.x),r=t.y-n*t.x;return{a:n,b:r}},rotatePoint:function(t,i,n,r){var c=t.getMaxZoom();c===1/0&&(c=t.getZoom());var h=n*Math.PI/180,f=t.project(i,c),e=t.project(r,c),a=Math.cos(h)*(f.x-e.x)-Math.sin(h)*(f.y-e.y)+e.x,l=Math.sin(h)*(f.x-e.x)+Math.cos(h)*(f.y-e.y)+e.y;return t.unproject(new o.Point(a,l),c)},bearing:function(t,i){var n=Math.PI/180,r=t.lat*n,c=i.lat*n,h=t.lng*n,f=i.lng*n,e=Math.sin(f-h)*Math.cos(c),a=Math.cos(r)*Math.sin(c)-Math.sin(r)*Math.cos(c)*Math.cos(f-h),l=(Math.atan2(e,a)*180/Math.PI+360)%360;return l>=180?l-360:l},destination:function(t,i,n){i=(i+360)%360;var r=Math.PI/180,c=180/Math.PI,h=6378137,f=t.lng*r,e=t.lat*r,a=i*r,l=Math.sin(e),d=Math.cos(e),p=Math.cos(n/h),m=Math.sin(n/h),w=Math.asin(l*p+d*m*Math.cos(a)),S=f+Math.atan2(Math.sin(a)*m*d,p-l*Math.sin(w));return S=S*c,S=S>180?S-360:S<-180?S+360:S,o.latLng([w*c,S])},angle:function(t,i,n){var r=t.latLngToContainerPoint(i),c=t.latLngToContainerPoint(n),h=Math.atan2(c.y-r.y,c.x-r.x)*180/Math.PI+90;return h+=h<0?360:0,h},destinationOnSegment:function(t,i,n,r){var c=o.GeometryUtil.angle(t,i,n),h=o.GeometryUtil.destination(i,c,r);return o.GeometryUtil.closestOnSegment(t,h,i,n)}}),o.GeometryUtil})})(pt);function mt(s,o){return(s%o+o)%o}function gt(s){return Object.fromEntries(Object.entries(s).filter(([o,t])=>t!==void 0))}function N(s){return s.toString().trim().slice(s.toString().length-1,s.toString().length)==="m"}function K(s){return s.toString().trim().slice(s.toString().length-1,s.toString().length)==="%"}function D(s){return s.toString().trim().slice(s.toString().length-2,s.toString().length)==="px"}function j(s,o){let t=o.getCenter(),i=o.latLngToLayerPoint(t),n={x:i.x+Number(s),y:i.y},r=o.layerPointToLatLng(n);return o.distance(t,r)}L.Polyline.include({arrowheads:function(s={}){const o={yawn:60,size:"15%",frequency:"allvertices",proportionalToTotal:!1};this.options.noClip=!0;let t=Object.assign({},o,s);return this._arrowheadOptions=t,this._hatsApplied=!0,this},buildVectorHats:function(s){this._arrowheads&&this._arrowheads.remove(),this._ghosts&&this._ghosts.remove();let o=Object.getPrototypeOf(Object.getPrototypeOf(this.options)),t=Object.assign({},o,this.options),i=Object.assign({},t,s);i.smoothFactor=1,i.fillOpacity=1,i.fill=!!s.fill,i.interactive=!1;let n=s.size.toString(),r=[];const{frequency:c,offsets:h}=s;((h==null?void 0:h.start)||(h==null?void 0:h.end))&&this._buildGhosts({start:h.start,end:h.end}),(this._ghosts||this)._parts.forEach((a,l)=>{var E;const d=a.map(M=>this._map.layerPointToLatLng(M)),p=(()=>{let M=0;for(var _=0;_<a.length-1;_++)M+=this._map.distance(d[_],d[_+1]);return M})();let m,w,S,O;if(isNaN(c)?K(c)?console.error("Error: arrowhead frequency option cannot be given in percent.  Try another unit."):N(c)?(S=c.slice(0,c.length-1)/p,O=1/S,O=Math.floor(O),S=1/O):D(c)&&(S=(()=>{let M=c.slice(0,c.length-2);return j(M,this._map)/p})(),O=1/S,O=Math.floor(O),S=1/O):(S=1/c,O=c),s.frequency==="allvertices")w=(()=>{let M=[];for(var _=1;_<d.length;_++){let T=L.GeometryUtil.angle(this._map,d[mt(_-1,d.length)],d[_])+180;M.push(T)}return M})(),m=d,m.shift();else if(s.frequency==="endonly"&&d.length>=2)m=[d[d.length-1]],w=[L.GeometryUtil.angle(this._map,d[d.length-2],d[d.length-1])+180];else{m=[];let M=[];for(var C=0;C<O;C++){let _=L.GeometryUtil.interpolateOnLine(this._map,d,S*(C+1));_&&(M.push(_),m.push(_.latLng))}w=(()=>{let _=[];for(var T=0;T<M.length;T++){let G=L.GeometryUtil.angle(this._map,d[M[T].predecessor+1],d[M[T].predecessor]);_.push(G)}return _})()}let k=[];const Z=(M,_={})=>{var B;let T=(B=_.yawn)!=null?B:s.yawn,G=L.GeometryUtil.destination(m[C],w[C]-T/2,M),z=L.GeometryUtil.destination(m[C],w[C]+T/2,M),I=[[G.lat,G.lng],[m[C].lat,m[C].lng],[z.lat,z.lng]],q=s.fill?L.polygon(I,x(x({},i),_)):L.polyline(I,x(x({},i),_));k.push(q)},R=(M,_={})=>{var X;let T=M.slice(0,M.length-2),G=(X=_.yawn)!=null?X:s.yawn,z=this._map.latLngToLayerPoint(m[C]),I=w[C],q=(180-I-G/2)*(Math.PI/180),B=(180-I+G/2)*(Math.PI/180),Ct=T*Math.sin(q),Pt=T*Math.cos(q),Mt=T*Math.sin(B),Ot=T*Math.cos(B),xt={x:z.x+Ct,y:z.y+Pt},kt={x:z.x+Mt,y:z.y+Ot},W=this._map.layerPointToLatLng(xt),J=this._map.layerPointToLatLng(kt),Y=[[W.lat,W.lng],[m[C].lat,m[C].lng],[J.lat,J.lng]],Tt=s.fill?L.polygon(Y,x(x({},i),_)):L.polyline(Y,x(x({},i),_));k.push(Tt)};for(var C=0;C<m.length;C++){let b=s,{perArrowheadOptions:_}=b,T=nt(b,["perArrowheadOptions"]);if(_=_?_(C):{},_=Object.assign(T,gt(_)),n=(E=_.size)!=null?E:n,N(n)){let G=n.slice(0,n.length-1);Z(G,_)}else if(K(n)){let G=n.slice(0,n.length-1),z=(()=>s.frequency==="endonly"&&s.proportionalToTotal?p*G/100:p/(a.length-1)*G/100)();Z(z,_)}else D(n)?R(s.size,_):console.error("Error: Arrowhead size unit not defined.  Check your arrowhead options.")}r.push(...k)});let e=L.layerGroup(r);return this._arrowheads=e,this},getArrowheads:function(){return this._arrowheads?this._arrowheads:console.error("Error: You tried to call '.getArrowheads() on a shape that does not have a arrowhead.  Use '.arrowheads()' to add a arrowheads before trying to call '.getArrowheads()'")},_buildGhosts:function({start:s,end:o}){if(s||o){let t=this.getLatLngs();t=Array.isArray(t[0])?t:[t];const i=t.map(n=>{const r=(()=>{let c=0;for(var h=0;h<n.length-1;h++)c+=this._map.distance(n[h],n[h+1]);return c})();if(s){let c=(()=>{if(N(s))return Number(s.slice(0,s.length-1));if(D(s)){let f=Number(s.slice(0,s.length-2));return j(f,this._map)}})(),h=L.GeometryUtil.interpolateOnLine(this._map,n,c/r);n=n.slice(h.predecessor===-1?1:h.predecessor+1,n.length),n.unshift(h.latLng)}if(o){let c=(()=>{if(N(o))return Number(o.slice(0,o.length-1));if(D(o)){let f=Number(o.slice(0,o.length-2));return j(f,this._map)}})(),h=L.GeometryUtil.interpolateOnLine(this._map,n,(r-c)/r);n=n.slice(0,h.predecessor+1),n.push(h.latLng)}return n});this._ghosts=L.polyline(i,it(x({},this.options),{color:"rgba(0,0,0,0)",stroke:0,smoothFactor:0,interactive:!1})),this._ghosts.addTo(this._map)}},deleteArrowheads:function(){this._arrowheads&&(this._arrowheads.remove(),delete this._arrowheads,delete this._arrowheadOptions,this._hatsApplied=!1),this._ghosts&&this._ghosts.remove()},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath(),this._hatsApplied&&(this.buildVectorHats(this._arrowheadOptions),this._map.addLayer(this._arrowheads)))},remove:function(){return this._arrowheads&&this._arrowheads.remove(),this._ghosts&&this._ghosts.remove(),this.removeFrom(this._map||this._mapToAdd)}}),L.LayerGroup.include({removeLayer:function(s){var o=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[o]&&(this._layers[o]._arrowheads&&this._layers[o]._arrowheads.remove(),this._map.removeLayer(this._layers[o])),delete this._layers[o],this},onRemove:function(s,o){for(var o in this._layers)this._layers[o]&&this._layers[o].remove();this.eachLayer(s.removeLayer,s)}}),L.Map.include({removeLayer:function(s){var o=L.Util.stamp(s);return s._arrowheads&&s._arrowheads.remove(),s._ghosts&&s._ghosts.remove(),this._layers[o]?(this._loaded&&s.onRemove(this),s.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(s.getAttribution()),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this}}),L.GeoJSON.include({geometryToLayer:function(s,o){var t=s.type==="Feature"?s.geometry:s,i=t?t.coordinates:null,n=[],r=o&&o.pointToLayer,c=o&&o.coordsToLatLng||L.GeoJSON.coordsToLatLng,h,f,e,a;if(!i&&!t)return null;switch(t.type){case"Point":return h=c(i),this._pointToLayer(r,s,h,o);case"MultiPoint":for(e=0,a=i.length;e<a;e++)h=c(i[e]),n.push(this._pointToLayer(r,s,h,o));return new L.FeatureGroup(n);case"LineString":case"MultiLineString":f=L.GeoJSON.coordsToLatLngs(i,t.type==="LineString"?0:1,c);var l=new L.Polyline(f,o);return o.arrowheads&&l.arrowheads(o.arrowheads),l;case"Polygon":case"MultiPolygon":return f=L.GeoJSON.coordsToLatLngs(i,t.type==="Polygon"?1:2,c),new L.Polygon(f,o);case"GeometryCollection":for(e=0,a=t.geometries.length;e<a;e++){var d=this.geometryToLayer({geometry:t.geometries[e],type:"Feature",properties:s.properties},o);d&&n.push(d)}return new L.FeatureGroup(n);default:throw new Error("Invalid GeoJSON object.")}},addData:function(s){var o=L.Util.isArray(s)?s:s.features,t,i,n;if(o){for(t=0,i=o.length;t<i;t++)n=o[t],(n.geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var r=this.options;if(r.filter&&!r.filter(s))return this;var c=this.geometryToLayer(s,r);return c?(c.feature=L.GeoJSON.asFeature(s),c.defaultOptions=c.options,this.resetStyle(c),r.onEachFeature&&r.onEachFeature(s,c),this.addLayer(c)):this},_pointToLayer:function(s,o,t,i){return s?s(o,t):new L.Marker(t,i&&i.markersInheritOptions&&i)}});var yt=A({props:x({positions:{type:Array,required:!0},arrows:{type:Object,default:void 0}},V),setup(s){const{positions:o,color:t,weight:i,opacity:n,fillColor:r}=u.toRefs(s),c=u.computed(()=>s.color!=null),h=u.computed(()=>s.fillColor!=null),f=u.reactive({stroke:c,color:t,weight:i,opacity:n,fill:h,fillColor:r}),e=u.ref(u.inject("map")),a=P.default.polyline(s.positions,U(f));s.arrows&&a.arrowheads(s.arrows),u.provide("layer",a),g.whenever(e,l=>l.addLayer(a),{immediate:!0}),g.whenever(f,l=>P.default.setOptions(a,U(l),{deep:!0,immediate:!0})),g.whenever(o,l=>a.setLatLngs(l)),u.onUnmounted(()=>a.remove())}}),_t=A({props:x({positions:{type:Array,required:!0}},V),setup(s){const{positions:o,color:t,weight:i,opacity:n,fillColor:r}=u.toRefs(s),c=u.computed(()=>s.color!=null),h=u.computed(()=>s.fillColor!=null),f=u.reactive({stroke:c,color:t,weight:i,opacity:n,fill:h,fillColor:r}),e=u.ref(u.inject("map")),a=P.default.polygon(s.positions,U(f));u.provide("layer",a),g.whenever(e,l=>l.addLayer(a),{immediate:!0}),g.whenever(f,l=>P.default.setOptions(a,U(l),{deep:!0,immediate:!0})),g.whenever(o,l=>a.setLatLngs(l)),u.onUnmounted(()=>a.remove())}}),wt=A({props:{position:{type:String,default:void 0},zoomInTitle:{type:String,default:void 0},zoomOutTitle:{type:String,default:void 0}},setup(s){const o=u.ref(u.inject("map")),t=new v.Control.Zoom(U(x({},s))),i=n=>{var r;(r=n==null?void 0:n.zoomControl)==null||r.remove(),n.addControl(t)};g.whenever(o,i,{immediate:!0})}}),vt=A({props:{position:{type:String,default:void 0},maxWidth:{type:Number,default:void 0},imperial:{type:Boolean,default:void 0},metric:{type:Boolean,default:void 0}},setup(s){const o=u.ref(u.inject("map")),t=P.default.control.scale(U(x({},s)));g.whenever(o,i=>i.addControl(t),{immediate:!0})}}),Lt={exports:{}};/*!
  Copyright (c) 2016 Dominik Moritz

  This file is part of the leaflet locate control. It is licensed under the MIT license.
  You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
  */(function(s,o){(function(t,i){typeof i!="undefined"&&i.L?s.exports=t(L):s.exports=t(P.default),typeof i!="undefined"&&i.L&&(i.L.Control.Locate=t(L))})(function(t){const i=(e,a,l)=>{l=l.split(" "),l.forEach(function(d){t.DomUtil[e].call(this,a,d)})},n=(e,a)=>i("addClass",e,a),r=(e,a)=>i("removeClass",e,a),c=t.Marker.extend({initialize(e,a){t.Util.setOptions(this,a),this._latlng=e,this.createIcon()},createIcon(){const e=this.options;let a="";e.color!==void 0&&(a+=`stroke:${e.color};`),e.weight!==void 0&&(a+=`stroke-width:${e.weight};`),e.fillColor!==void 0&&(a+=`fill:${e.fillColor};`),e.fillOpacity!==void 0&&(a+=`fill-opacity:${e.fillOpacity};`),e.opacity!==void 0&&(a+=`opacity:${e.opacity};`);const l=this._getIconSVG(e,a);this._locationIcon=t.divIcon({className:l.className,html:l.svg,iconSize:[l.w,l.h]}),this.setIcon(this._locationIcon)},_getIconSVG(e,a){const l=e.radius,d=e.weight,p=l+d,m=p*2,w=`<svg xmlns="http://www.w3.org/2000/svg" width="${m}" height="${m}" version="1.1" viewBox="-${p} -${p} ${m} ${m}"><circle r="`+l+'" style="'+a+'" /></svg>';return{className:"leaflet-control-locate-location",svg:w,w:m,h:m}},setStyle(e){t.Util.setOptions(this,e),this.createIcon()}}),h=c.extend({initialize(e,a,l){t.Util.setOptions(this,l),this._latlng=e,this._heading=a,this.createIcon()},setHeading(e){this._heading=e},_getIconSVG(e,a){const l=e.radius,d=e.width+e.weight,p=(l+e.depth+e.weight)*2,m=`M0,0 l${e.width/2},${e.depth} l-${d},0 z`,w=`transform: rotate(${this._heading}deg)`,S=`<svg xmlns="http://www.w3.org/2000/svg" width="${d}" height="${p}" version="1.1" viewBox="-${d/2} 0 ${d} ${p}" style="${w}"><path d="`+m+'" style="'+a+'" /></svg>';return{className:"leaflet-control-locate-heading",svg:S,w:d,h:p}}}),f=t.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(e){return e.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:c,compassClass:h,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(e,a){const l=t.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",e);l.title=a.strings.title,l.href="#",l.setAttribute("role","button");const d=t.DomUtil.create(a.iconElementTag,a.icon,l);if(a.strings.text!==void 0){const p=t.DomUtil.create(a.textElementTag,"leaflet-locate-text",l);p.textContent=a.strings.text,l.classList.add("leaflet-locate-text-active"),l.parentNode.style.display="flex",a.icon.length>0&&d.classList.add("leaflet-locate-icon")}return{link:l,icon:d}},onLocationError(e,a){alert(e.message)},onLocationOutsideMapBounds(e){e.stop(),alert(e.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(e){for(const a in e)typeof this.options[a]=="object"?t.extend(this.options[a],e[a]):this.options[a]=e[a];this.options.followMarkerStyle=t.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=t.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=t.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(e){const a=t.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=a,this._map=e,this._layer=this.options.layer||new t.LayerGroup,this._layer.addTo(e),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const l=this.options.createButtonCallback(a,this.options);return this._link=l.link,this._icon=l.icon,t.DomEvent.on(this._link,"click",function(d){t.DomEvent.stopPropagation(d),t.DomEvent.preventDefault(d),this._onClick()},this).on(this._link,"dblclick",t.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),a},_onClick(){this._justClicked=!0;const e=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const a=this.options.clickBehavior;let l=a.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(l=e?a.inView:a.inViewNotFollowing),a[l]&&(l=a[l]),l){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!this._active&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const e="ondeviceorientationabsolute"in window;if(e||"ondeviceorientation"in window){const a=this,l=function(){t.DomEvent.on(window,e?"deviceorientationabsolute":"deviceorientation",a._onDeviceOrientation,a)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(d){d==="granted"&&l()}):l()}}},_deactivate(){this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?t.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&t.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1){var e=this.options.flyTo?this._map.flyTo:this._map.setView;e.bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel)}else if(this.options.keepCurrentZoomLevel){var e=this.options.flyTo?this._map.flyTo:this._map.panTo;e.bind(this._map)([this._event.latitude,this._event.longitude])}else{var e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,e.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),t.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const e=this._event.latlng;if(this.options.showCompass&&e&&this._compassHeading!==null){const a=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(e),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(a)):this._compass=new this.options.compassClass(e,this._compassHeading,a).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const e=this._event.accuracy,a=this._event.latlng;if(this.options.drawCircle){const w=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(a).setRadius(e).setStyle(w):this._circle=t.circle(a,e,w).addTo(this._layer)}let l,d;if(this.options.metric?(l=e.toFixed(0),d=this.options.strings.metersUnit):(l=(e*3.2808399).toFixed(0),d=this.options.strings.feetUnit),this.options.drawMarker){const w=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(a),this._marker.setStyle&&this._marker.setStyle(w)):this._marker=new this.options.markerClass(a,w).addTo(this._layer)}this._drawCompass();const p=this.options.strings.popup;function m(){return typeof p=="string"?t.Util.template(p,{distance:l,unit:d}):typeof p=="function"?p({distance:l,unit:d}):p}this.options.showPopup&&p&&this._marker&&this._marker.bindPopup(m())._popup.setLatLng(a),this.options.showPopup&&p&&this._compass&&this._compass.bindPopup(m())._popup.setLatLng(a)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map.off("unload",this._unload,this)},_setCompassHeading(e){!isNaN(parseFloat(e))&&isFinite(e)?(e=Math.round(e),this._compassHeading=e,t.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(e){!this._active||(e.webkitCompassHeading?this._setCompassHeading(e.webkitCompassHeading):e.absolute&&e.alpha&&this._setCompassHeading(360-e.alpha))},_onLocationError(e){e.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(e,this))},_onLocationFound(e){if(!(this._event&&this._event.latlng.lat===e.latlng.lat&&this._event.latlng.lng===e.latlng.lng&&this._event.accuracy===e.accuracy)&&!!this._active){switch(this._event=e,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){!this._container||(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(e){e=="requesting"?(r(this._container,"active following"),n(this._container,"requesting"),r(this._icon,this.options.icon),n(this._icon,this.options.iconLoading)):e=="active"?(r(this._container,"requesting following"),n(this._container,"active"),r(this._icon,this.options.iconLoading),n(this._icon,this.options.icon)):e=="following"&&(r(this._container,"requesting"),n(this._container,"active following"),r(this._icon,this.options.iconLoading),n(this._icon,this.options.icon))},_cleanClasses(){t.DomUtil.removeClass(this._container,"requesting"),t.DomUtil.removeClass(this._container,"active"),t.DomUtil.removeClass(this._container,"following"),r(this._icon,this.options.iconLoading),n(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});return t.control.locate=e=>new t.Control.Locate(e),f},window)})(Lt);var bt=A({props:{position:{type:String,default:void 0},strings:{type:Object,default:void 0}},setup(s){const o=u.ref(u.inject("map")),t=P.default.control.locate(U(x({},s)));g.whenever(o,i=>i.addControl(t),{immediate:!0})}}),St=A({emits:["openstreetview","closestreetview"],props:{apiKey:{type:String,default:void 0},position:{type:String,default:"bottomright"},theme:{type:String,default:"leaflet-pegman-v3-small"}},setup(s,{emit:o}){const t=u.ref(u.inject("map")),i=async n=>{s.apiKey&&await $(s.apiKey),new P.default.Control.Pegman({position:s.position,theme:s.theme}).addTo(n),new MutationObserver(h=>{var f,e;for(const a of h)if(a.type==="childList"){for(const l of a.addedNodes)(f=l.classList)!=null&&f.contains("pegman-marker")&&o("openstreetview");for(const l of a.removedNodes)(e=l.classList)!=null&&e.contains("pegman-marker")&&o("closestreetview")}}).observe(n._container,{childList:!0,subtree:!0})};g.whenever(t,i,{immediate:!0})}});y.Circle=ft,y.GoogleMaps=lt,y.LocateControl=bt,y.MapContainer=st,y.Mapbox=at,y.Marker=ct,y.OpenStreetMap=rt,y.PegmanControl=St,y.Polygon=_t,y.Polyline=yt,y.Popup=ut,y.ScaleControl=vt,y.ZoomControl=wt,Object.defineProperties(y,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
